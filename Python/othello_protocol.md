# 通信のプロトコル

## 概要
8桁の整数を用意して、下位の桁で情報を伝達する(すべて使わなくても良い)
最上位で情報の種類を伝える
clientはserverから情報を取得したら何らかのレスポンスを返す

## 必要な情報
- matchを開始・終了する(s->c)
- gameを開始・終了する(s->c)
- match/gameの結果を通知する(match/gameの終了時でもok)(s->c)
- 打った手を知らせる(s->c, c->s)
- エラーが発生した(s->c, c->s)

## 具体的なコード
- エラーの発生 0********(7d)
エラーが発生したことを伝える
エラーログを吐いて即座に通信を遮断する

- matchの開始 1********
開始を知らせる
handicapなどがあればここで伝達するべき...(bit数的に不可能か)

- matchの終了 2*******
終了を知らせるだけ

- gameの開始 3*******
対局が開始するのでclientは自分のボードを初期化するなど準備を行う
先攻後攻の情報はここで知らせる(先攻には手を打ってもらう)
31****** 先攻
32****** 後攻

- gameの終了 4*******
対局が終了したのでclientは必要な後処理を行う
結果を表示する
41****** 正常終了
42****** 異常終了

4*1bbww\* 自分の勝ち
4*2bbww\* 相手の勝ち
4*3bbww\* 引き分け

- game中 5*******
対局中はclientから手を受信して、妥当であればもう一方のclientにもそれを送信する
51mm**** s->c 自分の手(対局終了) 次に4-------がくる
52mm**** s->c 自分の手(対局続行)
53mm**** s->c 相手の手(対局終了) 次に4-------がくる
54mm**** s->c 相手の手(対局続行)
55mm**** c->s 新しい手
56mm**** c->s 古い手(ただrecvしたものをresponseする)
57mm**** c->s 後攻で最初待つ











- 0 : 後攻
- 1 : 先攻
- 11-88 : 相手に打たれた手
- 111-188 : 自分が打った手
- 10000-16464 : 勝利
- 20000-26464 : 敗北
- 30000-36464 : 引き分け